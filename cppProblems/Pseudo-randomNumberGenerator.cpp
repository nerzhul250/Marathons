#include <bits/stdc++.h>
#define ff first
#define ss second
#define fore(i,a,b) for(int i=a,colchin=b;i<colchin;++i)
#define pb push_back
#define ALL(s) s.begin(),s.end()
#define FIN ios_base::sync_with_stdio(0);cin.tie(0);cout.tie(0)
#define SZ(s) int(s.size())
using namespace std;
typedef long long int ll;
typedef pair<int,int> ii;
const ll MOD=1LL<<40;
const int mu=350125310;
const int lambda=182129209;
ll f(ll bigNumber){
	return (bigNumber+(bigNumber>>20)+12345)%MOD;
}
ll startBlocks[351][2]={{502984,24831098818},{995306,85091177611},{1498258,241479741103},{1998844,647343511917},{2500401,6995323118},{3001393,38803296781},{3500190,121352198450},{3999082,335585309480},{4500820,891568792743},{5004364,14370630249},{5512698,57943890614},{6011436,171026377942},{6511002,464501064994},{7012601,1473880836},{7500029,24473902285},{8002855,84164171463},{8499689,239073950242},{9000464,641099940086},{9504061,6806229870},{10006017,38312556854},{10504170,120078616969},{11005541,332280076921},{11505757,882990965157},{12003251,14112718818},{12506329,57274551969},{13006130,169289292334},{13506761,459992934005},{14003714,1337854506},{14508694,24120883462},{15011683,83248007737},{15514848,236696297515},{16015235,634929391393},{16516067,6620357676},{17013805,37830176352},{17517443,118826730177},{18017774,329031146994},{18516743,874559255859},{19017244,13856007495},{19515097,56608327843},{20012408,167560289742},{20513726,455505780300},{21014794,1202088386},{21521369,23768539351},{22028493,82333594782},{22530434,234323188514},{23031470,628770636033},{23537551,6435063656},{24032363,37349296386},{24530609,117578737596},{25031296,325792323073},{25533395,866153773131},{26034534,13603643125},{26540391,55953385061},{27038505,165860564948},{27539195,451094609069},{28039980,1069184517},{28541830,23423623727},{29040198,81438460553},{29539710,232000112395},{30040232,622741727028},{30539973,6253085456},{31037671,36877021659},{31539441,116353077724},{32037696,322611458168},{32538480,857898708083},{33040920,13354228762},{33543018,55306098243},{34042894,164180708576},{34544672,446735001036},{35042602,937685173},{35544908,23082353134},{36038770,80552785887},{36539206,229701585730},{37041078,616776528825},{37541450,6072677726},{38036709,36408822720},{38537906,115137995242},{39039571,319458043535},{39539377,849714882133},{40042828,13107744445},{40547257,54666415645},{41043465,162520587621},{41545884,442426611046},{42047578,807311470},{42546233,22744003927},{43049621,79674693251},{43551063,227422736603},{44052909,610862399010},{44554559,5893434651},{45056959,35943646365},{45554672,113930757179},{46052912,316324986992},{46552064,841583890229},{47050518,12861712571},{47548216,54027907086},{48046434,160863512855},{48544071,438126126427},{49048470,677744489},{49549754,22407748132},{50056831,78802032994},{50557376,225157985322},{51058008,604984856037},{51557273,5716565771},{52058653,35484631509},{52565704,112739509636},{53064233,313233429815},{53564851,833560598601},{54060933,12619930630},{54556692,53400428095},{55056278,159235062884},{55556726,433899929956},{56054527,549348706},{56555312,22074532063},{57060178,77937262116},{57559660,222913708970},{58061102,599160450170},{58560779,5540033707},{59060167,35026490825},{59564033,111550530977},{60057168,310147760736},{60559019,825552588218},{61060773,12376359574},{61558121,52768306127},{62056275,157594563185},{62554179,429642460847},{63053854,421224956},{63560321,21742021880},{64057793,77074322838},{64560045,220674185952},{65062411,593348380684},{65562338,5364465484},{66066909,34570851523},{66572917,110368043254},{67074121,307078936923},{67574933,817588294774},{68077204,12137286578},{68576836,52147857402},{69074813,155984357764},{69578219,425463613204},{70077204,295498034},{70572325,21415731952},{71072154,76227526294},{71571244,218476557046},{72070164,587645035156},{72572034,5192879414},{73073858,34125546861},{73576657,109212377002},{74076618,304079721068},{74575254,809804649437},{75074286,11901289737},{75578103,51535392117},{76080479,154394871503},{76581009,421338536015},{77082752,170920662},{77586589,21092425584},{78083423,75388473090},{78588163,216299023615},{79089032,581993842114},{79587502,5021923689},{80089334,33681877906},{80589335,108060955255},{81086972,301091520582},{81585288,802049592223},{82082869,11668023988},{82577797,50930014590},{83075877,152823779731},{83574667,417261196672},{84074594,47523507},{84578690,20772181826},{85076566,74557367833},{85577765,214142117131},{86077885,576396181355},{86575098,4853507682},{87071797,33244800104},{87569837,106926639410},{88066475,298147713933},{88565277,794409746597},{89061258,11435650672},{89557867,50326953208},{90060817,151258698876},{90559357,413199457023},{91057197,1092995098244},{91554797,20453692433},{92059329,73730815694},{92557144,211997026857},{93053611,570829185964},{93558722,4685264556},{94066087,32808171177},{94568344,105793488505},{95067617,295206930517},{95568007,786777746632},{96069983,11206260411},{96578839,49731633517},{97082646,149713708985},{97582000,409189858068},{98083970,1082589280689},{98584271,20139991649},{99089614,72916691179},{99588123,209884189289},{100089173,565345893787},{100587587,4518737141},{101080653,32375994660},{101581033,104671892500},{102077740,292296134838},{102578453,779223572048},{103084620,10978265333},{103581261,49139934610},{104078916,148178116403},{104578791,405204647340},{105080524,1072246754882},{105576391,19827002537},{106075637,72104413141},{106578726,207776143636},{107076332,559875037177},{107578420,4354683110},{108087162,31950237454},{108592028,103566955958},{109088096,289428573982},{109590435,771781602051},{110081437,10752858133},{110584146,48554951837},{111084446,146659953560},{111582688,401264670349},{112082235,1062021621551},{112579315,19518274761},{113075875,71303194772},{113580176,205696800289},{114079359,554478669836},{114578150,4191483496},{115071718,31526697331},{115569496,102467773271},{116070241,286575945643},{116572062,764378384800},{117077203,10530470029},{117584728,47977804257},{118087024,145162124809},{118588258,397377465370},{119089313,1051933443521},{119593213,19213652728},{120091493,70512631458},{120589824,203645109528},{121090065,549154066966},{121591532,4030509852},{122096449,31108934194},{122603663,101383583168},{123105791,283762226666},{123604624,757076146220},{124099108,10309979851},{124603005,47405582216},{125100277,143677078963},{125599822,393523435027},{126098295,1041931361613},{126601495,18910272345},{127097435,69725290790},{127598938,201601781662},{128098749,543851168197},{128598478,3869893989},{129099927,30692099632},{129606265,100301802920},{130104566,280954761586},{130608500,749790137907},{131101704,10089997457},{131599111,46834678258},{132104529,142195453631},{132606644,389678281232},{133105067,1031952315675},{133613967,18609763453},{134112909,68945402068},{134614468,199577793939},{135114812,538598461112},{135611589,3711222251},{136107892,30280310451},{136605753,99233116795},{137105533,278181278692},{137604957,742592321221},{138104641,9872154607},{138612280,46269326711},{139114170,140728238241},{139611189,385870524711},{140110603,1022070324749},{140616828,18311382009},{141115404,68171034631},{141616541,197568134878},{142117990,533382940567},{142613775,3554026557},{143106656,29872351977},{143615170,98174372077},{144114855,275433596512},{144614440,735461463758},{145118771,9655697881},{145613726,45707572329},{146116601,139270358519},{146615821,382086996623},{147114827,1012251211594},{147616701,18014204912},{148117857,67399792486},{148619782,195566586555},{149119782,528188468873},{149619012,3397755113},{150119937,29466792348},{150621712,97121853126},{151122090,272702071066},{151619911,728372535169},{152113038,9442541797},{152614526,45154383935},{153117304,137834709208},{153617158,378361160925},{154118720,1002581823366},{154618656,17722589590},{155117508,66642984633},{155615238,193602498691},{156115832,523091215660},{156613957,3243839556},{157108725,29067346493},{157608613,96085200428},{158110685,270011722255},{158607152,721390470774},{159109836,9232083997},{159609212,44608198160},{160106698,136417233148},{160604579,374682489219},{161105359,993034836731},{161609777,17435952907},{162107537,65899097615},{162605678,191671943332},{163105696,518080986662},{163606181,3092594895},{164109508,28674832371},{164610471,95066537244},{165108248,267368060404},{165606553,714529568823},{166105383,9025028345},{166604291,44070841770},{167104867,135022671628},{167605345,371063286307},{168104812,983642184332},{168604079,17151396830},{169099355,65160610118},{169602580,189755401031},{170101751,513107125545},{170601744,2941349750},{171099771,28282316870},{171601946,94047870750},{172099893,264724390129},{172599641,707668644954},{173092341,8817435949},{173589384,43532092696},{174086057,133624495703},{174584382,367434702789},{175085228,974225187667},{175147925,504569}};
ll periodBlocks[183][2]={{494200,20650189014},{990884,74240768887},{1488494,213320471137},{1988067,574263823815},{2488178,4787889955},{2987804,33074507269},{3488424,106484690902},{3990955,297000757453},{4490336,791433134353},{4989280,11347508705},{5483077,50098204813},{5985471,150665044668},{6486750,411658789573},{6985594,1088996717416},{7480010,20333317063},{7978159,73418414371},{8478229,211186274752},{8978485,568725099726},{9477329,4621442711},{9983340,32642538921},{10483789,105363635318},{10984313,294091364163},{11486585,783882599030},{11988070,11118953800},{12483488,49505053095},{12980613,149125681925},{13484222,407663794807},{13985929,1078628800049},{14486322,20018803006},{14984747,72602179030},{15488054,209067959091},{15990883,563227591537},{16490935,4454720767},{16990462,32209857666},{17487179,104240729349},{17985729,291177168779},{18484929,776319601703},{18983359,10890588601},{19486606,48912393781},{19988258,147587596515},{20486894,403672114127},{20988440,1068269484544},{21493757,19706533656},{21986341,71791769459},{22485962,206964762495},{22985713,557769319218},{23486191,4290068946},{23984068,31782549017},{24482874,103131766532},{24980217,288299158592},{25480681,768850512682},{25977957,10664438220},{26484996,48325482040},{26986935,146064427222},{27486348,399719144522},{27985817,1058010632332},{28473383,19397564493},{28970702,70989924483},{29470272,204883792787},{29971111,552368730897},{30471029,4127272583},{30974429,31360055575},{31476083,102035300196},{31976722,285453580169},{32478702,761465592132},{32977441,10441333753},{33477509,47746475595},{33973524,144561774556},{34474043,395819420123},{34971436,1047889963499},{35469238,19091127624},{35971393,70194651191},{36472851,202819878392},{36971155,547012405305},{37473104,3966062967},{37964020,30941680007},{38464747,100949520763},{38964628,282635736438},{39463809,754152648826},{39962817,10220465107},{40465804,47173271267},{40969618,143074179249},{41468711,391958773382},{41968071,1037870710119},{42473236,18789724876},{42976457,69412442670},{43472031,200789870231},{43970902,541744073754},{44471424,3806695412},{44967154,30528085091},{45467671,99876148217},{45969158,279850091360},{46470867,746923268357},{46968419,10002150769},{47466891,46606695936},{47968990,141603787729},{48470292,388142773853},{48968486,1027967326352},{49469125,18490265571},{49973217,68635277779},{50470785,198772951171},{50975791,536509711863},{51478373,3648674112},{51979596,30117984164},{52478368,98811843402},{52980212,277087978900},{53478569,739754960399},{53976680,9785985038},{54465632,46045696942},{54964749,140147868236},{55466558,384364333153},{55967759,1018161416409},{56473995,18194286218},{56978323,67867144325},{57480471,196779470429},{57981488,531336176853},{58483865,3492522697},{58982897,29712735640},{59481940,97760131531},{59985791,274358548202},{60485452,732671469307},{60983034,9572703304},{61491781,45492182566},{61992159,138711373191},{62488510,380636302745},{62987231,1008486331820},{63490452,17900935152},{63993858,67105832025},{64488543,194803692470},{64989688,526208585828},{65495651,3337248365},{65998942,29309763482},{66494918,96714327280},{66991889,271644449204},{67493945,725627766979},{67994781,9360338837},{68489536,44941048652},{68989529,137281055555},{69488749,376924304261},{69988721,998852854893},{70492836,17611429352},{70992570,66354498813},{71492248,192853812778},{71991766,521148206276},{72492412,3184165505},{72992902,28912478890},{73483872,95683283946},{73985352,268968658210},{74482917,718683482800},{74980113,9149398605},{75482520,44393610861},{75978842,135860330525},{76477891,373237200776},{76979293,989283985222},{77482208,17322714012},{77982457,65605217162},{78485747,190909256928},{78982004,516101642983},{79482320,3031826579},{79977391,28517124738},{80473435,94657250065},{80976274,266305867583},{81474803,711772937533},{81978725,8941886748},{82477937,43855070484},{82978737,134462696085},{83478632,369610022577},{83980154,979870636290},{84481314,17037911196},{84979858,64866088952},{85479344,188991051429},{85979131,511123464485},{86477343,2882089052},{86977153,28128521923},{87472622,93648737970},{87968704,263688550111},{88467803,704980405206},{88965778,8736218959},{89465793,43321316142},{89965024,133077482701},{90463757,366015079862},{90964903,970540944452},{91029304,1099511083770}};
/*int start[mu+5];
int period[lambda+5];*/
int main(){FIN;
	ll x0=1611516670;
	/*fore(i,0,mu){
		start[i]=1-x0%2;
		if(i)start[i]+=start[i-1];
		x0=f(x0);
	}
	fore(i,0,lambda){
		period[i]=1-x0%2;
		if(i)period[i]+=period[i-1];
		if(i && (i%1000000==0 || i==lambda-1)){
			cout <<"{"<<period[i]<<","<<x0<<"},";
		}
		x0=f(x0);
	}*/
	ll N;
	cin >>N;
	N--;
	if(N<mu){
		if(N==-1){
			cout << "0\n";
		}else if(N==0){
			cout << "1\n";
		}else{
			int completed=N/1000000;
			int rem=N%1000000;
			ll ans=0;
			if(completed>0){
				x0=startBlocks[completed-1][1];
				ans=startBlocks[completed-1][0];
				fore(i,0,rem){
					x0=f(x0);
					ans+=(1-(x0%2));
				}
			}else{
				fore(i,0,rem+1){
					ans+=(1-(x0%2));
					x0=f(x0);
				}
			}
			cout << ans<<"\n";
		}
	}else{
		x0=f(startBlocks[350][1]);
		ll base=N-mu;
		ll k=base/lambda;
		int r=base%lambda;
		ll ans=startBlocks[350][0]+k*periodBlocks[182][0];
		if(r==0){
			cout << ans+(1-(x0%2))<<"\n";
		}else{
			int completed=r/1000000;
			int rem=r%1000000;
			if(completed){
				ans+=periodBlocks[completed-1][0];
				x0=periodBlocks[completed-1][1];
				fore(i,0,rem){
					x0=f(x0);
					ans+=(1-(x0%2));
				}
			}else{
				fore(i,0,rem+1){
					ans+=(1-(x0%2));
					x0=f(x0);
				}
			}
			cout << ans << "\n";
		}
	}
    return 0;
}
